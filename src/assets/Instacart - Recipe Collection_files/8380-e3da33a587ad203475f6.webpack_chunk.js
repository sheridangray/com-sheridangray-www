"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8380],{81621:(e,r,t)=>{t.d(r,{Z:()=>s,b:()=>a});const n={optedInToExpressTrial:!1,creatingSubscription:!1,error:null},o="SUBSCRIPTION",a=e=>e.models.subscription.optedInToExpressTrial,s=function(e=n,r={}){switch(r.type){case"".concat(o,".RECEIVE_SUBSCRIPTIONS_FAILURE"):return{...e,fetching:!1,error:r.error};case"".concat(o,".RECEIVE_SUBSCRIPTIONS_SUCCESS"):const t=r.subscriptions.length?r.subscriptions[0]:null;return{...e,fetching:!1,member:!!t,subscription:t};case"".concat(o,".SET_FETCHING"):return{...e,fetching:!0,error:null};case"".concat(o,".TOGGLE_CREATING"):return{...e,creatingSubscription:!e.creatingSubscription};case"".concat(o,".SET_OPTED_IN_TO_TRIAL"):return{...e,optedInToExpressTrial:r.value};case"".concat(o,".SET_UPGRADE_STATUS"):return{...e,upgradeSuccessful:r.payload.success};case"".concat(o,".SET_SUCCESS_ACTION"):return{...e,successAction:r.successAction};case"".concat(o,".NO_OP"):default:return e}}},28380:(e,r,t)=>{t.r(r),t.d(r,{mapDispatchToProps:()=>P,default:()=>I});var n,o,a,s=t(0),c=t(68),i=t.n(c),p=t(1),l=t.n(p),u=t(11),d=t(15666),f=t(7054),h=t(40273),v=t(81621),b=t(5483),y=t(86237),g=t(51814),m=t(5717),O=t(3);function x(){return x=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},x.apply(this,arguments)}function _(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,r){return S=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},S(e,r)}function k(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=E(e);if(r){var o=E(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return w(this,t)}}function w(e,r){if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}const T=(0,d.Z)({loader:()=>Promise.all([t.e(8062),t.e(930),t.e(222),t.e(16),t.e(364),t.e(8584),t.e(6558),t.e(6489),t.e(602),t.e(2912),t.e(731),t.e(3404),t.e(9561),t.e(759),t.e(3303),t.e(345),t.e(758),t.e(2428),t.e(2631),t.e(1082),t.e(6730)]).then(t.bind(t,13938)),webpack:()=>[13938]}),H={container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},icon:{height:"50px",marginRight:"10px",[y.jW.xs]:{display:"none"}},bannerText:{fontSize:"18px",[y.jW.xs]:{fontSize:"12px"}}},C={icon:{height:"50px",marginRight:"10px",[y.jW.xs]:{height:"32px",marginLeft:"10px"}},background:{backgroundColor:"#FFF0BD",backgroundRepeat:"repeat",backgroundSize:"56px 56px"},buttonStyle:{marginLeft:"24px",backgroundColor:"#FFBE1D",borderRadius:"45px",[y.jW.xs]:{fontSize:"12px",marginLeft:"16px"}},className:"over-header"},Z="\n    #header .over-header a {\n      width: 100%;\n      height: 100%;\n      display: inline;\n      cursor: pointer;\n    }\n";let R=(0,u.default)((a=o=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&S(e,r)}(a,e);var r,t,n,o=k(a);function a(...e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,...e)).open=()=>{var e;const t=(null===(e=r.props.trackingParams)||void 0===e?void 0:e.product_flow)||"express_core_action_placement";r.props.addOverHeaderBodyClass(),r.props.trackEvent(t,"view",r.props.trackingParams)},r.close=()=>{r.props.closeOverHeader(),(0,f.v4)()},r.bannerUniversalText=()=>{const{formatted_copy:e,sub_text:t}=r.props,n={...H.bannerText,fontSize:"18px",whiteSpace:"pre-wrap"};return t?(0,O.tZ)("div",{style:n},(0,O.tZ)("style",null,Z),(0,O.tZ)(b.Z,e),(0,O.tZ)("div",null,(0,O.tZ)(b.Z,t))):(0,O.tZ)("div",{style:n},(0,O.tZ)("style",null,Z),(0,O.tZ)(b.Z,e))},r.bannerTexts=()=>{const{type:e,formatted_copy:t}=r.props;return"universal_trial"===e||"holiday_promo"===e?r.bannerUniversalText():(0,O.tZ)("div",{className:"banner-text",style:H.bannerText},(0,O.tZ)(b.Z,t))},r.conditionalStyles=()=>{const{type:e,background_image:t,background_color:n}=r.props;if("universal_trial"===e)return C;if("holiday_promo"===e)return(e=>({className:"over-header",background:{backgroundImage:"url(".concat(e.url,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundColor:"#A7D1FF"},icon:C.icon}))(t);const o={};return o.backgroundImage=t?"url(".concat(t.url,")"):"none",n&&(o.backgroundColor=n),{className:"over-header express-placement",background:o,icon:H.icon}},r.afterHeaderClick=()=>{"express"===r.props.type&&r.close()},r}return r=a,(t=[{key:"componentDidMount",value:function(){this.props.serverShowExpressOverHeader&&this.props.showOverHeaderAction(),this.props.showOverHeader&&this.open(),"universal_trial"===this.props.type&&m.Z.event("Universal Trial Banner Viewed")}},{key:"UNSAFE_componentWillUpdate",value:function(e){e.serverShowExpressOverHeader&&!this.props.serverShowExpressOverHeader&&this.props.showOverHeaderAction(),!e.serverShowExpressOverHeader&&this.props.serverShowExpressOverHeader&&this.props.hideOverHeader(),e.showOverHeader&&!this.props.showOverHeader&&this.open()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){if(!this.props.showOverHeader)return null;const{formatted_copy:e,action:r,formatted_action:t,background_image:n,icon:o,type:a,banner_properties:{button_style:s}={}}=this.props,c=this.conditionalStyles();return(0,O.tZ)("div",{className:c.className,style:[c.background,this.props.positionStatically&&{position:"static"}]},(0,O.tZ)("div",{className:"express-overheader-placement",style:H.container},(0,O.tZ)("img",{style:c.icon,src:o.url,alt:"express-icon"}),this.bannerTexts(),r&&(0,O.tZ)("div",{className:"action"},(0,O.tZ)(T,x({className:"ic-btn",style:C.buttonStyle,afterClick:this.afterHeaderClick},r),(0,O.tZ)(b.Z,t)))),"express"===a&&(0,O.tZ)("div",{className:"close-ad"},(0,O.tZ)("button",{onClick:this.close,"aria-label":"close promotion",onKeyUp:e=>{"enter"===e.key&&this.close()},style:{backgroundColor:"transparent",border:0,padding:0}},(0,O.tZ)(y.JO,{name:"xBold",style:{color:"#fff"}}))))}}])&&_(r.prototype,t),n&&_(r,n),a}(s.PureComponent),o.propTypes={action:l().object,addOverHeaderBodyClass:l().func.isRequired,hideOverHeader:l().func.isRequired,serverShowExpressOverHeader:l().bool,showOverHeader:l().bool,showOverHeaderAction:l().func.isRequired,closeOverHeader:l().func.isRequired,trackEvent:l().func.isRequired,trackingParams:l().object.isRequired,banner_properties:l().object,positionStatically:l().bool},n=a))||n;const P={addOverHeaderBodyClass:f.Tj,hideOverHeader:f.EB,showOverHeaderAction:f.YL,closeOverHeader:f.ws,trackEvent:h.L},I=(0,g.connect)((e=>{const{appModules:r}=e.global,{showOverHeader:t}=e.app.header,n=r.header&&r.header.data.over_header||{},o="universal_trial"===n.type||("express"===n.type||"holiday_promo"===n.type)&&n.show&&!(0,v.b)(e),a=n.tracking_params||{},s=i().get("overHeaderClosed");return{...n,serverShowExpressOverHeader:o&&!s,showOverHeader:t&&!s,trackingParams:a}}),P)(R)}}]);